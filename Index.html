<!DOCTYPE html>
<html>
  <head>  

<style type="text/css">
      canvas {
        border: 10px solid grey; 
      }
  </style>
  </head>
  <body>
       <canvas id="canvas-for-ball" width="800" height="600"></canvas>
    
    <script type="text/javascript">
         // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("canvas-for-ball");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");
        
       var  paddle = {  
             X: 150
             ,Y: 550
             ,W: 125
             ,H: 35
             ,R: 20
           ,draw:function(ctx){
              ctx.strokeRect(paddle.X+(paddle.R/2), paddle.Y+(paddle.R/2),        paddle.W-paddle.R, paddle.H-paddle.R);
        ctx.fillRect(paddle.X+(paddle.R/2), paddle.Y+(paddle.R/2), paddle.W-paddle.R, paddle.H-paddle.R);     
                      
        }//draw
       }
       
       ctx.lineJoin = "round";
       ctx.lineWidth = paddle.R;    
               
      var ball = {
            x: 170
           ,y: 540
           ,r: 10
	       ,dx: 4
           ,dy:4
           ,draw:function(ctx){
           ctx.fillStyle = "rgb(255, 0, 0)";
           ctx.beginPath();
           ctx.arc(ball.x, ball.y, 10, 0, 2 * Math.PI);
           ctx.fill();
           }         
            
      }
      
      function collision(){
      if( ball.x<0 || ball.x>canvas.width)
	ball.dx=-ball.dx;
	if( ball.y<0 ||ball.y>canvas.height)
		ball.dy=-ball.dy;
		ball.x+=ball.dx;
		ball.y+=ball.dy;
	} 
      
        
        
     
        
        function gameloop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);      
      paddle.draw(ctx);
      ball.draw(ctx);
      
      collision();
      
      
      requestAnimationFrame(gameloop); 
    }


        window.addEventListener("keydown", function(event) { 
        // Just log the event to the console.
          
          
           if (event.keyCode == 39) {//right arrow
              if(paddle.X <canvas.width-127){
                  paddle.X+= 20;
              }     
          }
          else if (event.keyCode == 37) {//left arrow key
              if(paddle.X >0){
                  paddle.X -= 20;
              }
          }
            
          });
        gameloop();
        
        
      
    </script>
  </body>
</html>