<!DOCTYPE html>
<html>
  <head>  

<style type="text/css">
      canvas {
        border: 10px solid grey; 
      }
  </style>
  </head>
  <body>
       <canvas id="canvas-for-ball" width="800" height="600"></canvas>
    
    <script type="text/javascript">
         // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("canvas-for-ball");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");
        
            
        
       var  paddle = {  
             X: 150
             ,Y: 550
             ,W: 125
             ,H: 35
             ,R: 20
           ,draw:function(ctx){
              ctx.strokeRect(paddle.X+(paddle.R/2), paddle.Y+(paddle.R/2),        paddle.W-paddle.R, paddle.H-paddle.R);
        ctx.fillRect(paddle.X+(paddle.R/2), paddle.Y+(paddle.R/2), paddle.W-paddle.R, paddle.H-paddle.R);     
                      
        }//draw
       }
       
       ctx.lineJoin = "round";
       ctx.lineWidth = paddle.R;    
               
      var ball = {
            x: 170
           ,y: 540
           ,r: 10
	       ,dx: 4
           ,dy:4
           ,draw:function(ctx){
           ctx.fillStyle = "red";
           ctx.beginPath();
           ctx.arc(ball.x, ball.y, 10, 0, 2 * Math.PI);
           ctx.fill();
           }         
            
      }
      
      var Brick = {
             brickRow : 5
            ,brickCol : 9
            ,bw : 75
            ,bh : 20
            ,bPad : 10
            ,brickOffsetTop : 30
            ,brickOffsetLeft : 30  
            ,drawBricks: function () {
              for(c=0; c<Brick.brickCol; c++) {
                    for(r=0; r<Brick.brickRow; r++) {
                        var brickX = (c*(Brick.bw+Brick.bPad))+Brick.brickOffsetLeft;
                        var brickY = (r*(Brick.bh+Brick.bPad))+Brick.brickOffsetTop;
                        bricks[c][r].x = 0;
                        bricks[c][r].y = 0;
                        ctx.beginPath();
                        ctx.rect(brickX, brickY, Brick.bw, Brick.bh);
                        ctx.fillStyle = "blue";
                        ctx.fill();
                        ctx.closePath();
                    }
                }
            }
          
      }
      var bricks = [];
                for(c=0; c<Brick.brickCol; c++) {
                    bricks[c] = [];
                        for(r=0; r<Brick.brickRow; r++) {
                            bricks[c][r] = { x: 0, y: 0 };
                        }
                }
            
     
      
      
      
      function collision(){
      if( ball.x<0 || ball.x>canvas.width)
	ball.dx=-ball.dx;
	if( ball.y<0 ||ball.y>canvas.height)
		ball.dy=-ball.dy;
		ball.x+=ball.dx;
		ball.y+=ball.dy;
	} 
      
        
        
        
     
        
        function gameloop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);      
      paddle.draw(ctx);
      ball.draw(ctx);
      Brick.drawBricks();
    
      
      
      collision();
      
      
      requestAnimationFrame(gameloop); 
    }


        window.addEventListener("keydown", function(event) { 
        // Just log the event to the console.
          
          
           if (event.keyCode == 39) {//right arrow
              if(paddle.X <canvas.width-127){
                  paddle.X+= 30;
              }     
          }
          else if (event.keyCode == 37) {//left arrow key
              if(paddle.X >0){
                  paddle.X -= 30;
              }
          }
            
          });
        
        gameloop();
        
        
        
      
    </script>
  </body>
</html>